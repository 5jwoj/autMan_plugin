# autMan 便便记录插件

一个功能完整的 autMan 插件，用于记录和追踪便便事件。

## ✨ 功能特性

- 📝 **记录便便事件** - 快速记录发生时间
- 💩 **便便过程选项** - 记录便便过程（A通畅 😊 / B一般 😐 / C费劲 😣）
- 📊 **美观的记录展示** - 按日期分组，颜色标记，统计分析
- 🗑️ **删除记录** - 支持选择性删除历史记录
- 🔒 **确认机制** - 记录和删除操作需要 y/n/q 确认
- 📈 **统计分析** - 自动计算频率、跨度等统计信息

## 🎨 显示样式

```
📊 便便记录 (共3条)
━━━━━━━━━━━━━━━━━━━━━━━━━

🗓️ 1月9日 🟡
  └─ 12:20
  └─ 18:30
  📊 当天2次

🗓️ 1月8日 🟢
  └─ 10:00
  📊 当天1次

━━━━━━━━━━━━━━━━━━━━━━━━━
📈 总体统计
• 记录时段: 2026-01-08 至 2026-01-09
• 记录天数: 2天 (跨度2天)
• 总计次数: 3次
• 平均频率: 1.50次/天
```

**颜色标记**：
- 🟢 1次/天
- 🟡 2次/天
- 🔴 3次及以上

## 🚀 快速开始

### 安装

1. 下载 `便便.py` 文件
2. 上传到 autMan 服务器：
   ```bash
   scp 便便.py root@服务器:/root/aut/plugin/scripts/
   ```
3. 设置权限：
   ```bash
   chmod 755 /root/aut/plugin/scripts/便便.py
   ```
4. 重启 autMan：
   ```bash
   systemctl restart autman
   ```

### 使用

- `便便` - 记录一次便便事件（需要确认）
- `便便记录` - 查看所有历史记录（直接显示）
- `便便删除` - 删除指定的历史记录（需要确认）
- `便便帮助` - 显示帮助信息

## 📋 版本信息

**当前版本**: v1.1.0

**更新内容**:
- v1.1.0: 添加便便过程选项（A通畅/B一般/C费劲）
- v1.0.0: 初始版本

## 🔧 技术说明

- **语言**: Python 3
- **方式**: middleware 中间件
- **规则**: `^便便(.*)$` - 在代码头部定义，无需后台配置
- **存储桶**: `poop`
- **存储**: JSON 格式，按用户 ID 存储

## 📄 许可证

MIT License
