# autMan 天气查询插件

基于高德地图 API 的天气查询插件,支持查询全国主要城市的实时天气和未来天气预报。

## 版本信息

- **版本**: v1.0.0
- **类型**: ECMAScript5 插件
- **作者**: AI Assistant

## 功能特性

✅ 实时天气查询 - 查询当前天气状况  
✅ 天气预报查询 - 查询未来3-4天天气  
✅ 支持全国主要城市 - 覆盖省会及重点城市  
✅ 友好的消息格式 - 使用 Emoji 图标美化显示  
✅ 智能城市匹配 - 支持城市名和 adcode  

## 安装配置

### 1. 安装插件

将 `天气查询.js` 文件放置到 autMan 的 `plugin/replies` 目录下。

### 2. 配置 API Key

在 autMan 插件管理中配置参数:

```
参数名: 高德地图API Key
参数键: weather.amapApiKey
参数值: 你的高德地图 API Key
```

或者在插件配置界面直接填写。

### 3. 获取 API Key

1. 访问 [高德开放平台](https://console.amap.com)
2. 注册并登录账号
3. 创建应用,选择 **Web 服务** 类型
4. 获取 API Key

## 使用方法

### 查询实时天气

发送: `城市名 + 天气`

**示例**:
```
北京天气
上海天气
深圳天气
```

**返回示例**:
```
🌤 北京 实时天气
━━━━━━━━━━━━━━━
☀️ 天气: 晴
🌡 温度: 15°C
💧 湿度: 45%
🍃 风向: 北风
💨 风力: 3级
📅 更新: 2026-01-10 21:00:00
━━━━━━━━━━━━━━━
💡 发送「北京天气预报」查看未来天气
```

### 查询天气预报

发送: `城市名 + 天气预报`

**示例**:
```
北京天气预报
上海天气预报
广州天气预报
```

**返回示例**:
```
📅 北京 天气预报
━━━━━━━━━━━━━━━
📍 北京市 北京
🕐 发布时间: 2026-01-10 18:00:00

📆 2026-01-10 星期五
☀️ 白天: 晴 15°C 北风3级
☁️ 夜间: 多云 5°C 北风2级

📆 2026-01-11 星期六
⛅ 白天: 多云 12°C 东北风2级
☁️ 夜间: 阴 3°C 东北风1级

━━━━━━━━━━━━━━━
💡 发送「北京天气」查看实时天气
```

### 查看帮助

发送: `天气帮助`

## 支持城市

### 直辖市
北京、上海、天津、重庆

### 省会城市
广州、成都、杭州、武汉、西安、郑州、南京、济南、沈阳、长春、哈尔滨、石家庄、太原、呼和浩特、长沙、福州、南昌、合肥、昆明、贵阳、南宁、兰州、西宁、银川、乌鲁木齐、拉萨、海口

### 重点城市
深圳、苏州、无锡、宁波、青岛、大连、厦门、东莞、佛山、珠海、中山、三亚

**提示**: 也可以直接使用城市 adcode 查询,如 `110000天气`

## 技术说明

- **API 来源**: 高德地图天气查询 API
- **更新频率**: 实时天气每小时更新多次,预报天气每天更新3次
- **数据准确性**: 以 API 返回的 `reporttime` 字段为准
- **请求超时**: 10秒

## 注意事项

1. 需要有效的高德地图 API Key
2. API 有调用频率限制,请合理使用
3. 部分小城市可能不在支持列表中
4. 天气数据仅供参考,以实际为准

## 更新日志

### v1.0.0 (2026-01-10)
- ✨ 初始版本发布
- ✅ 支持实时天气查询
- ✅ 支持天气预报查询
- ✅ 支持全国主要城市
- ✅ 美化消息显示格式

## 许可协议

本插件基于 MIT 协议开源。

## 联系方式

如有问题或建议,请联系开发者。
