# 辩论助手插件

## 📖 简介

辩论助手是一个 autMan 插件，允许管理员控制机器人与群友进行辩论。机器人可以根据指定的立场（正方/反方）自动生成有力的辩论观点。

## ✨ 功能特性

- 🎯 **管理员控制**：仅管理员可以发起和结束辩论
- 🤖 **智能辩论**：AI 自动生成符合立场的辩论观点
- 📋 **丰富主题**：内置10个热门辩论主题，支持自定义
- 🔄 **轮次追踪**：自动记录辩论轮次和历史
- 👥 **群聊支持**：专为群聊场景设计

## 🚀 使用方法

### 基础命令

- `辩论帮助` - 显示帮助信息
- `开始辩论` - 发起新的辩论（仅管理员）
- `结束辩论` - 结束当前辩论（仅管理员）

### 使用流程

1. **管理员发送**：`开始辩论`
2. **选择立场**：选择机器人作为正方(1)或反方(2)
3. **指定对手**：@某人或输入对手的用户ID
4. **选择主题**：从预设主题中选择或自定义
5. **开始辩论**：对手发言后，机器人自动回应
6. **结束辩论**：管理员发送 `结束辩论` 终止

## 📋 内置辩论主题

1. 人工智能会取代人类的工作吗？
2. 远程办公比办公室工作更有效率吗？
3. 社交媒体对社会的影响是利大于弊吗？
4. 电动汽车是未来交通的最佳选择吗？
5. 在线教育能够完全替代传统教育吗？
6. 加密货币会成为未来的主流货币吗？
7. 短视频对年轻人的影响是积极的吗？
8. 996工作制是否应该被禁止？
9. 外卖行业的发展利大于弊吗？
10. 游戏应该被视为一种正式的体育运动吗？

## 🔧 配置说明

### 插件头部配置

```python
# [disable: false]           # 是否禁用插件
# [rule: ^(开始辩论|辩论帮助|结束辩论)$]  # 触发规则
# [admin: true]              # 仅管理员可用
# [price: 0.00]              # 调用价格
# [version: 1.0.0]           # 插件版本
```

### 常量配置

- `BUCKET_NAME`: 数据存储桶名称
- `INPUT_TIMEOUT`: 用户输入超时时间（默认60秒）
- `DEBATE_TOPICS`: 预设辩论主题列表

## 💡 使用示例

```
用户A（管理员）: 开始辩论
机器人: 🎯 开始辩论设置
       请选择机器人的立场：
       1️⃣ 正方
       2️⃣ 反方

用户A: 1
机器人: ✅ 机器人立场：正方
       请指定辩论对手...

用户A: @用户B
机器人: 📋 请选择辩论主题：
       1. 人工智能会取代人类的工作吗？
       ...

用户A: 1
机器人: 🎭 辩论正式开始！
       📌 辩题：人工智能会取代人类的工作吗？
       🤖 机器人（正方）
       👤 对手：用户B（反方）

用户B: 我认为AI不会完全取代人类，因为...
机器人: 🤖 正方观点（第1轮）：
       我方认为AI必将取代大部分重复性工作...
```

## 📊 数据存储

插件使用 `debate_sessions` 存储桶保存辩论会话数据，包括：

- 辩论状态（进行中/已结束）
- 辩论主题
- 双方立场
- 对手信息
- 辩论历史记录
- 轮次统计

## ⚙️ 技术特性

- **会话管理**：支持群聊和私聊的独立会话
- **状态持久化**：使用 bucketGet/bucketSet 存储会话
- **AI 集成**：调用 `middleware.aiReplyStream()` 生成辩论内容
- **超时处理**：用户输入超时自动取消操作
- **错误处理**：完善的异常捕获和错误提示

## 🔒 权限要求

- 发起辩论：需要管理员权限
- 结束辩论：需要管理员权限
- 参与辩论：所有用户（被指定为对手后）
- 查看帮助：所有用户

## 📝 版本历史

### v1.0.0 (2026-01-21)
- ✨ 初始版本发布
- 🎯 支持管理员控制辩论
- 🤖 AI 自动生成辩论观点
- 📋 内置10个辩论主题
- 🔄 辩论轮次和历史追踪

## 🤝 贡献

如有问题或建议，欢迎反馈！

## 📄 许可

本插件遵循 MIT 许可协议。
